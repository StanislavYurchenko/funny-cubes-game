{"version":3,"sources":["webpack:///./components/FunnyCubes/squareItem.hbs","webpack:///./index.js","webpack:///./components/FunnyCubes/FunnyCubes.js","webpack:///./components/FunnyCubes/squareList.hbs"],"names":["Handlebars","module","exports","template","container","depth0","helpers","partials","data","helper","alias1","nullContext","alias2","hooks","helperMissing","alias4","escapeExpression","lookupProperty","parent","propertyName","Object","prototype","hasOwnProperty","call","stack1","program","noop","root","this","n","min","max","score","boxRef","squaresRef","array","squaresData","isGameOver","init","creatSquares","renderSquareList","renderSquareItem","startNewGame","firstChild","addEventListener","onSquare","bind","initGameOver","callback","console","log","randomInteger","Math","round","random","Array","from","length","map","el","isActive","number","isActiveSquare","innerHTML","squaresListTemplate","squaresItemTemplate","event","square","target","squares","currentTarget","children","Number","dataset","index","indexOf","numberOfNewSquares","randomSquare","randomInt","every","document","querySelector"],"mappings":"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","file":"main.a779fa5b54dd05123a68.js","sourcesContent":["var Handlebars = require(\"../../../node_modules/handlebars/runtime.js\");\nfunction __default(obj) { return obj && (obj.__esModule ? obj[\"default\"] : obj); }\nmodule.exports = (Handlebars[\"default\"] || Handlebars).template({\"1\":function(container,depth0,helpers,partials,data) {\n    var helper, alias1=depth0 != null ? depth0 : (container.nullContext || {}), alias2=container.hooks.helperMissing, alias3=\"function\", alias4=container.escapeExpression, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"  <li class=\\\"square col-1 rounded\\\" data-number=\\\"\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"number\") || (depth0 != null ? lookupProperty(depth0,\"number\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"number\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":2,\"column\":48},\"end\":{\"line\":2,\"column\":58}}}) : helper)))\n    + \"\\\" data-is-active-square=\\\"\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"isActiveSquare\") || (depth0 != null ? lookupProperty(depth0,\"isActiveSquare\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"isActiveSquare\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":2,\"column\":83},\"end\":{\"line\":2,\"column\":101}}}) : helper)))\n    + \"\\\"></li>\\r\\n\";\n},\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return ((stack1 = lookupProperty(helpers,\"each\").call(depth0 != null ? depth0 : (container.nullContext || {}),depth0,{\"name\":\"each\",\"hash\":{},\"fn\":container.program(1, data, 0),\"inverse\":container.noop,\"data\":data,\"loc\":{\"start\":{\"line\":1,\"column\":0},\"end\":{\"line\":3,\"column\":9}}})) != null ? stack1 : \"\");\n},\"useData\":true});","import './styles.scss';\nimport 'bootstrap';\nimport FunnyCubes from './components/FunnyCubes/FunnyCubes'\n\nconst boxRef = document.querySelector('.box');\n\nconst funnyCubes = new FunnyCubes(boxRef);\nfunnyCubes.startNewGame();\n\n\n\n\n\n\n\n","import squaresListTemplate from './squareList.hbs'\r\nimport squaresItemTemplate from './squareItem.hbs'\r\n\r\n\r\n\r\nexport default class FunnyCubes {\r\n  constructor(root) {\r\n    this.n = 144;\r\n    this.min = -1;\r\n    this.max = 10;\r\n    this.score = 0;\r\n    this.boxRef = root;\r\n    this.squaresRef = null;\r\n    this.array = [];\r\n    this.squaresData = [];\r\n    this.isGameOver = null;\r\n\r\n    this.init();\r\n  }\r\n\r\n  init() {\r\n    const init = true;\r\n    this.squaresData = this.creatSquares(init);\r\n    this.renderSquareList();\r\n    this.renderSquareItem(this.squaresData);\r\n  }\r\n\r\n  startNewGame() {\r\n    this.isGameOver = false;\r\n    this.squaresData = this.creatSquares();\r\n    this.renderSquareItem(this.squaresData);\r\n    this.squaresRef = this.boxRef.firstChild;\r\n    this.squaresRef.addEventListener('click', this.onSquare.bind(this));\r\n  }\r\n\r\n  initGameOver(callback) {\r\n    this.isGameOver = true;\r\n    callback();\r\n    console.log('Game over, your score is ', this.score);\r\n  }\r\n\r\n  randomInteger(min, max) {\r\n    return Math.round(min - 0.5 + Math.random() * (max - min + 1));\r\n  }\r\n\r\n  creatSquares(init = false) {\r\n    const array = Array.from({ length: this.n }, () => init ? 0 : this.randomInteger(this.min, this.max));\r\n    return array.map(el => {\r\n      const isActive = el >= -1 && el <= 2 && el !== 0;\r\n      return {\r\n        number: isActive ? el : 0,\r\n        isActiveSquare: isActive,\r\n      }\r\n    })\r\n  }\r\n\r\n  renderSquareList() {\r\n    this.boxRef.innerHTML = squaresListTemplate();\r\n  }\r\n\r\n  renderSquareItem(data) {\r\n    this.boxRef.firstChild.innerHTML = squaresItemTemplate(data);\r\n  }\r\n\r\n  onSquare(event) {\r\n    const square = event.target;\r\n    const squares = Array.from(event.currentTarget.children);\r\n\r\n    const number = Number(square.dataset.number);\r\n    const isActiveSquare = square.dataset.isActiveSquare === 'true';\r\n\r\n    if (isActiveSquare) {\r\n      console.log(`You received score ${number}`);\r\n      this.score += +number;\r\n      console.log(`Your score is ${this.score}`);\r\n\r\n      const index = squares.indexOf(square);\r\n\r\n      this.squaresData[index] = { number: 0, isActiveSquare: false }\r\n\r\n      let numberOfNewSquares = this.randomInteger(0, 2);\r\n\r\n      while (numberOfNewSquares > 0) {\r\n\r\n        const randomSquare = this.randomInteger(0, this.n - 1);\r\n\r\n        if (squares[randomSquare].dataset.isActiveSquare === \"true\") continue;\r\n\r\n        const randomInt = this.randomInteger(-1, 2)\r\n        if (randomInt === 0) continue;\r\n\r\n        const isActive = randomInt >= -1 && randomInt <= 2 && randomInt !== 0;\r\n\r\n        this.squaresData[randomSquare] = {\r\n          number: isActive ? randomInt : 0,\r\n          isActiveSquare: isActive\r\n        }\r\n\r\n        numberOfNewSquares -= 1;\r\n      }\r\n\r\n      this.renderSquareItem(this.squaresData);\r\n\r\n      this.isGameOver = this.squaresData.every(square => square.isActiveSquare) || this.squaresData.every(square => !square.isActiveSquare)\r\n      if (this.isGameOver) {\r\n        this.initGameOver();\r\n        return\r\n      }\r\n    }\r\n  }\r\n\r\n}\r\n\r\n","var Handlebars = require(\"../../../node_modules/handlebars/runtime.js\");\nfunction __default(obj) { return obj && (obj.__esModule ? obj[\"default\"] : obj); }\nmodule.exports = (Handlebars[\"default\"] || Handlebars).template({\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    return \"<ul class=\\\"row squares\\\">\\r\\n</ul>\";\n},\"useData\":true});"],"sourceRoot":""}